
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="assets/img/favic.ico">

    <title>Green.Ask</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
<style>
  .
</style>
  <body class="bg-light">
<header>
  <div class="navbar navbar-white bg-white shadow-sm">
    <div class="container">
      <a href="#" class="navbar-brand d-flex align-items-center">
        <img src="assets/img/logo.svg" alt="" height="50">
      </a>
      <div class="text-black font-weight-bold">
        IT-кадры для атомной области
      </div>
    </div>
  </div>
</header>
<style type="text/css">
  .resstat {
    background: #222;
    border-radius: 25px;
    color: white;
    padding: 25px;
    text-align: center;
  }
  .restat_row {
    margin-bottom: 30px;
  }
  .resstat_all h3 {
    color:grey;
    font-size: 28px;
  }
  .resstat_all p {
    font-size: 20px;
  }
  .resstat_border {
    border-right: 5px solid grey;
  }
  .resstat_level {
    background: #4B4B4B;
    padding: 20px;
    border-radius: 25px;
  }
  .resstat_level {
    font-size: 20px;
  }
  @media(max-width: 768px) {
    .resstat_border {
      border-right: none;
    }
  }
  .resnot {
    text-align: center;
    font-size: 25px;
    color:#222;
    margin-top: 20px;
    margin-bottom: 20px;
  }
</style>
<script type="text/javascript">
    let params = (new URL(document.location)).searchParams; 
    let name = params.get("name");    
    let scored = params.get("scored");   

    let max;
    let scored;    
    let procent;
    let statuser;

    const xhr = new XMLHttpRequest();
    xhr.open('GET', "quiz/result/"+name, false);
    xhr.send();
    let release = JSON.parse(xhr.responseText);

    max = release[0];
    procent = (scored/max)*100;

    if(procent>90) {
        statuser = "SENIOR";
    } else if(procent>60) {
        statuser = "MIDDLE"
    } else if(procent>35) {
      statuser = "JUNIOR"
    } else {
      statuser = "BEGINNER"
    }

    document.getElementbyId('max').innerHTML = max;
    document.getElementbyId('scored').innerHTML = scored;
    document.getElementbyId('procent').innerHTML = procent;
    document.getElementbyId('statuser').innerHTML = statuser;

</script>
    <div class="container">
      <div class="py-5 text-center">
        <img class="d-block mx-auto mb-4" src="assets/img/prize.svg" alt="" width="250">
        <h2>Поздравляем!</h2>
        <p class="lead">Вы успешно прошли тест</p>
      </div>      
      <div class="resstat">
        <div class="row restat_row">
          <div class="col-md-4 col-sm-12 resstat_all resstat_border">
            <p>Ваш результат:</p>
            <h3 id="procent">70%</p>
          </div>
          <div class="col-md-4 col-sm-12 resstat_all resstat_border">
            <p>Всего:</p>
            <h3><span id="scored">25</span> из <span id="max">30</span></p>
          </div>      
          <div class="col-md-4 col-sm-12 resstat_all">
            <p>Вы лучше чем:</p>
            <h3>100%</p>
          </div>
        </div>
        <div class="resstat_level">
          <p>Ваш уровень:</p>
          <h2 id="statuser">Beginner</h2>
        </div>
      </div>
      <p class="resnot">Ожидайте звонка куратора на ваш телефон</p>
      <div class="row">
        <div class="col-md-6 col-sm-12">
            <a class="w-50 btn btn-lg btn-primary mr-auto ml-auto" style="display:block;margin-top: 40px;" href="/select">Вернуться</a>
        </div>
        <div class="col-md-6 col-sm-12">
          <a class="w-50 btn btn-lg btn-primary mr-auto ml-auto" style="display: block;margin-top: 40px;" href="/logout">Выйти</a>
        </div>
      </div>  
      <footer class="my-5 pt-5 text-muted text-center text-small">
        <p class="mb-1">&copy; 2022 Green Ask</p>
      </footer>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
    <script src="assets/js/vendor/popper.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <script src="assets/js/vendor/holder.min.js"></script>
    <script>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (function() {
        'use strict';

        window.addEventListener('load', function() {
          // Fetch all the forms we want to apply custom Bootstrap validation styles to
          var forms = document.getElementsByClassName('needs-validation');

          // Loop over them and prevent submission
          var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
              if (form.checkValidity() === false) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add('was-validated');
            }, false);
          });
        }, false);
      })();
    </script>
  </body>
</html>
